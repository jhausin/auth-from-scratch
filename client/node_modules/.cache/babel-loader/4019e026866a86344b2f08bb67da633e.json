{"remainingRequest":"/Users/jannik/dev/auth-from-scratch/client/node_modules/babel-loader/lib/index.js!/Users/jannik/dev/auth-from-scratch/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jannik/dev/auth-from-scratch/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jannik/dev/auth-from-scratch/client/src/views/SignUp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jannik/dev/auth-from-scratch/client/src/views/SignUp.vue","mtime":1600162149759},{"path":"/Users/jannik/dev/auth-from-scratch/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jannik/dev/auth-from-scratch/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jannik/dev/auth-from-scratch/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jannik/dev/auth-from-scratch/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEpvaSBmcm9tICJqb2kiOwp2YXIgU0lHTlVQX1VSTCA9ICJodHRwOi8vbG9jYWxob3N0OjUwMDAvYXV0aC9zaWdudXAiOwp2YXIgc2NoZW1hID0gSm9pLm9iamVjdCgpLmtleXMoewogIHVzZXJuYW1lOiBKb2kuc3RyaW5nKCkucmVnZXgoLyheW2EtekEtWjAtOV9dKyQpLykubWluKDIpLm1heCgzMCkucmVxdWlyZWQoKSwKICBwYXNzd29yZDogSm9pLnN0cmluZygpLnRyaW0oKS5taW4oOCkucmVxdWlyZWQoKSwKICBjb25maXJtUGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS50cmltKCkubWluKDgpLnJlcXVpcmVkKCkKfSk7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXJyb3JNZXNzYWdlOiAiIiwKICAgICAgdXNlcjogewogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgY29uZmlybVBhc3N3b3JkOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIHVzZXI6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICIiOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaWdudXA6IGZ1bmN0aW9uIHNpZ251cCgpIHsKICAgICAgaWYgKHRoaXMudmFsaWRVc2VyKCkpIHsKICAgICAgICBjb25zb2xlLmxvZygiVXNlciBpcyB2YWxpZC4gc2VuZGluZyBkYXRhIHRvIHNlcnZlci4uLiIpOwogICAgICAgIHZhciBib2R5ID0gewogICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlci51c2VybmFtZSwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnVzZXIucGFzc3dvcmQKICAgICAgICB9OwogICAgICAgIGZldGNoKFNJR05VUF9VUkwsIHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS50aGVuKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHZhbGlkVXNlcjogZnVuY3Rpb24gdmFsaWRVc2VyKCkgewogICAgICBpZiAodGhpcy51c2VyLnBhc3N3b3JkICE9PSB0aGlzLnVzZXIuY29uZmlybVBhc3N3b3JkKSB7CiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAiUGFzc3dvcmQgbXVzdCBtYXRjaC4iOwogICAgICB9CgogICAgICB2YXIgX3NjaGVtYSR2YWxpZGF0ZSA9IHNjaGVtYS52YWxpZGF0ZSh0aGlzLnVzZXIpLAogICAgICAgICAgdmFsdWUgPSBfc2NoZW1hJHZhbGlkYXRlLnZhbHVlLAogICAgICAgICAgZXJyb3IgPSBfc2NoZW1hJHZhbGlkYXRlLmVycm9yOwoKICAgICAgaWYgKGVycm9yID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoInVzZXJuYW1lIikpIHsKICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICJJbnZhbGlkIFVzZXJuYW1lLiI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAiSW52YWxpZCBQYXNzd29yZC4iOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["SignUp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA,OAAA,GAAA,MAAA,KAAA;AAEA,IAAA,UAAA,GAAA,mCAAA;AAEA,IAAA,MAAA,GAAA,GAAA,CAAA,MAAA,GAAA,IAAA,CAAA;AACA,EAAA,QAAA,EAAA,GAAA,CAAA,MAAA,GACA,KADA,CACA,mBADA,EAEA,GAFA,CAEA,CAFA,EAGA,GAHA,CAGA,EAHA,EAIA,QAJA,EADA;AAMA,EAAA,QAAA,EAAA,GAAA,CAAA,MAAA,GACA,IADA,GAEA,GAFA,CAEA,CAFA,EAGA,QAHA,EANA;AAUA,EAAA,eAAA,EAAA,GAAA,CAAA,MAAA,GACA,IADA,GAEA,GAFA,CAEA,CAFA,EAGA,QAHA;AAVA,CAAA,CAAA;AAeA,eAAA;AACA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,YAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,eAAA,EAAA;AAHA;AAFA,KAAA;AAAA,GADA;AASA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,OADA,qBACA;AACA,aAAA,YAAA,GAAA,EAAA;AACA,OAHA;AAIA,MAAA,IAAA,EAAA;AAJA;AADA,GATA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,UAAA,KAAA,SAAA,EAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,0CAAA;AACA,YAAA,IAAA,GAAA;AACA,UAAA,QAAA,EAAA,KAAA,IAAA,CAAA,QADA;AAEA,UAAA,QAAA,EAAA,KAAA,IAAA,CAAA;AAFA,SAAA;AAIA,QAAA,KAAA,CAAA,UAAA,EAAA;AACA,UAAA,MAAA,EAAA,MADA;AAEA,UAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CAFA;AAGA,UAAA,OAAA,EAAA;AACA,4BAAA;AADA;AAHA,SAAA,CAAA,CAOA,IAPA,CAOA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,CAAA,EAAA,EAAA;AACA,mBAAA,QAAA,CAAA,IAAA,EAAA;AACA;;AACA,iBAAA,QAAA,CAAA,IAAA,GAAA,IAAA,CAAA,UAAA,KAAA,EAAA;AACA,kBAAA,IAAA,KAAA,CAAA,KAAA,CAAA,OAAA,CAAA;AACA,WAFA,CAAA;AAGA,SAdA,EAeA,IAfA,CAeA,UAAA,IAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,SAjBA,EAkBA,KAlBA,CAkBA,UAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,SApBA;AAqBA;AACA,KA9BA;AA+BA,IAAA,SA/BA,uBA+BA;AACA,UAAA,KAAA,IAAA,CAAA,QAAA,KAAA,KAAA,IAAA,CAAA,eAAA,EAAA;AACA,aAAA,YAAA,GAAA,sBAAA;AACA;;AAHA,6BAIA,MAAA,CAAA,QAAA,CAAA,KAAA,IAAA,CAJA;AAAA,UAIA,KAJA,oBAIA,KAJA;AAAA,UAIA,KAJA,oBAIA,KAJA;;AAMA,UAAA,KAAA,KAAA,SAAA,EAAA;AACA,eAAA,IAAA;AACA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,QAAA,CAAA,UAAA,CAAA,EAAA;AACA,aAAA,YAAA,GAAA,mBAAA;AACA,OAFA,MAEA;AACA,aAAA,YAAA,GAAA,mBAAA;AACA;;AACA,aAAA,KAAA;AACA;AA9CA;AAjBA,CAAA","sourcesContent":["<template>\n  <section>\n    <h1>Sign Up</h1>\n    <div v-if=\"errorMessage\" class=\"alert alert-danger\" role=\"alert\">\n      {{ errorMessage }}\n    </div>\n    <form @submit.prevent=\"signup\">\n      <div class=\"form-group\">\n        <label for=\"username\">Username</label>\n        <input\n          v-model=\"user.username\"\n          type=\"text\"\n          class=\"form-control\"\n          id=\"username\"\n          placeholder=\"Enter Username\"\n          aria-describedby=\"usernameHelp\"\n          required\n        />\n        <small id=\"usernameHelp\" class=\"form-text text-muted\">\n          Username must be longer than 2 characters and shorter than 30.\n          <br />Username can only contain alphanumeric characters and\n          underscores.\n        </small>\n      </div>\n      <div class=\"form-row\">\n        <div class=\"form-group col-md-6\">\n          <label for=\"password\">Password</label>\n          <input\n            v-model=\"user.password\"\n            type=\"password\"\n            class=\"form-control\"\n            id=\"password\"\n            placeholder=\"Password\"\n            required\n          />\n          <small id=\"passwordHelp\" class=\"form-text text-muted\"\n            >Password must be at least 8 characters long.</small\n          >\n        </div>\n        <div class=\"form-group col-md-6\">\n          <label for=\"confirmPassword\">Confirm Password</label>\n          <input\n            v-model=\"user.confirmPassword\"\n            type=\"password\"\n            class=\"form-control\"\n            id=\"confirmPassword\"\n            placeholder=\"Confirm Password\"\n            required\n          />\n          <small id=\"confirmPasswordHelp\" class=\"form-text text-muted\"\n            >Please confirm password.</small\n          >\n        </div>\n      </div>\n      <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\n    </form>\n  </section>\n</template>\n\n<script>\nimport Joi from \"joi\";\n\nconst SIGNUP_URL = \"http://localhost:5000/auth/signup\";\n\nconst schema = Joi.object().keys({\n  username: Joi.string()\n    .regex(/(^[a-zA-Z0-9_]+$)/)\n    .min(2)\n    .max(30)\n    .required(),\n  password: Joi.string()\n    .trim()\n    .min(8)\n    .required(),\n  confirmPassword: Joi.string()\n    .trim()\n    .min(8)\n    .required(),\n});\nexport default {\n  data: () => ({\n    errorMessage: \"\",\n    user: {\n      username: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n    },\n  }),\n  watch: {\n    user: {\n      handler() {\n        this.errorMessage = \"\";\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    signup() {\n      if (this.validUser()) {\n        console.log(\"User is valid. sending data to server...\");\n        const body = {\n          username: this.user.username,\n          password: this.user.password,\n        };\n        fetch(SIGNUP_URL, {\n          method: \"POST\",\n          body: JSON.stringify(body),\n          headers: {\n            \"content-type\": \"application/json\",\n          },\n        })\n          .then((response) => {\n            if (response.ok) {\n              return response.json();\n            }\n            return response.json().then((error) => {\n              throw new Error(error.message);\n            });\n          })\n          .then((user) => {\n            console.log(user);\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      }\n    },\n    validUser() {\n      if (this.user.password !== this.user.confirmPassword) {\n        this.errorMessage = \"Password must match.\";\n      }\n      const { value, error } = schema.validate(this.user);\n\n      if (error === undefined) {\n        return true;\n      }\n      if (error.message.includes(\"username\")) {\n        this.errorMessage = \"Invalid Username.\";\n      } else {\n        this.errorMessage = \"Invalid Password.\";\n      }\n      return false;\n    },\n  },\n};\n</script>\n<style></style>\n"],"sourceRoot":"src/views"}]}